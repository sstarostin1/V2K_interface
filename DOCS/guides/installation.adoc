= Установка и настройка

// Метаданные для машинной читаемости
:component: installation
:tags: [руководство, установка, зависимости, настройка]
:dependencies: [Python 3.7+, PyQt5, PyQtVChannels]
:related: [guides/user-guide.adoc, guides/troubleshooting.adoc]

== Системные требования

* **Операционная система**: Linux (предпочтительно Debian), Windows 10/11
* **Python**: 3.7 или выше
* **PyQt5**: 5.15.0 или выше
* **PyQtVChannels**: 1.0.0 или выше (библиотека для работы с каналами)

== Установка Python

1. Скачайте Python с официального сайта: https://www.python.org/downloads/
2. Установите, убедившись, что pip включен
3. Проверьте версию:
+
[source,bash]
----
python --version
----

== Установка зависимостей

=== Автоматическая установка
[source,bash]
----
pip install -r requirements.txt
----

=== Ручная установка
[source,bash]
----
pip install PyQt5>=5.15.0
pip install PyQtVChannels>=1.0.0
----

=== Проверка установки
Запустите скрипт проверки зависимостей:
[source,bash]
----
python test_dependencies.py
----

Ожидаемый вывод:
```
=== Проверка зависимостей VCAS Server Viewer ===

1. Проверка импортов:
[OK] PyQt5 установлен
[OK] Все модули PyQt5 доступны
[OK] PyQtVChannels установлен

2. Проверка синтаксиса файлов:
[OK] Синтаксис main.py корректен
[OK] Синтаксис main_window.py корректен
[OK] Синтаксис vcas_client.py корректен
[OK] Синтаксис config.py корректен

=== Результаты ===
[SUCCESS] Все проверки пройдены успешно!
Программа готова к запуску.
```

== Установка PyQtVChannels

Если PyQtVChannels не устанавливается через pip, установите из исходников:

1. Скачайте библиотеку с GitHub или получите от разработчиков ВЭПП-2000
2. Установите:
+
[source,bash]
----
pip install path/to/PyQtVChannels
----

== Настройка переменных окружения

Для использования mock сервера:
[source,bash]
----
export VCAS_MOCK_MODE=1
----

== Запуск тестового сервера

Для отладки запустите mock сервер:
[source,bash]
----
python run_mock_server.py --host 127.0.0.1 --port 20042 --debug
----

== Запуск приложения

=== С реальным сервером
[source,bash]
----
python main.py
----

=== С mock сервером
[source,bash]
----
python main.py --mock-server
----

Или:
[source,bash]
----
export VCAS_MOCK_MODE=1
python main.py
----

== Параметры командной строки

* `--mock-server`, `--mock`, `--test`: Использовать mock сервер
* `--debug`: Включить отладочное логирование

== Проверка работоспособности

1. Запустите приложение
2. Нажмите "Подключиться" в меню Файл
3. Должно появиться дерево каналов в левой панели
4. Выберите канал для просмотра информации

== Возможные проблемы

=== PyQt5 не устанавливается
* Установите системные зависимости:
+
[source,bash]
----
sudo apt install python3-pyqt5
----
* Или используйте conda:
+
[source,bash]
----
conda install pyqt
----

=== PyQtVChannels не найдена
* Убедитесь, что библиотека доступна в системе
* Обратитесь к разработчикам ВЭПП-2000 за библиотекой

=== Ошибка подключения
* Проверьте, что VCAS сервер запущен и доступен
* Используйте mock сервер для тестирования

Связанные документы:

* xref:guides/user-guide.adoc[Руководство пользователя] - запуск и использование
* xref:guides/troubleshooting.adoc[Решение проблем] - устранение неисправностей
